var digitalData={page:{pageInfo:{pageName:"",pageType:"",primaryCategory:"",subCategory:"",subSubCategory:"",country:""}},website:{websiteInfo:{language:"",siteTitle:""}},user:{userInfo:{loginStatus:"",loginType:"",customerID:""}},internalSearch:{searchInfo:{searchTerm:"",searchResultProducts:"",searchResultRecipes:"",searchResultContents:"",searchFilter:"",productID:"",searchPosition:"",searchSorting:"",searchStoreResult:"",storeSelectedPosition:"",storeNameSelected:"",searchStoreFilter:""}},checkout:{deliveryMethod:"",
deliveryOption:"",paymentMethod:"",cartId:"",orderId:"",details:"",giftCardValue:"",pinVoucherValue:""},click:{buttonLink:{buttonName:"",assetId:"",assetComponentType:"",assetFileReference:"",assetTarget:""}},form:{formName:""},product:{category:"",productID:"",sku:"",qtyItem:"",qty:"",price:"",reviews:""},video:{videoTagID:"",videoName:""},target:{targetInfo:{marketingName:"",customerRatings:"",price:"",currency:"",code:"",thumbnailURL:"",descriptionShort:"",descriptionLong:"",ingredients:"",badges_items_list_topLeft:"",
badges_items_list_bottomLeft:"",badges_items_list_bottomRight:"",badges_items_list_topRight:"",in_stock_general:"",pdp_options_onlyonline:"",allergy:"",preparationTime:"",cookingTime:"",totalTime:"",recipesLevel:"",categoryId:"",targetCommodityGroupName:"",reviewsNumber:"",wasPrice:"",depositFee:"",approvalStatus:""}},shoppingCartReorder:{addAllToCart:""},transaction:{addToCartType:"",listProduct:"",totalPriceCart:"",totalQtyCart:""},profile:{profileInfo:{preferenceFeatureName:"",foodPreference:"",
otherPreference:"",profileFeatureName:"",mobileWalletReceipt:""}},content:{subscriptionStatus:""},customerService:{customerServiceType:""}};
(function(e){void 0===e.aldiDtmConstants&&(e.aldiDtmConstants={TOPIC:"DigitalData",tracks:{ADD_TO_CART_DIRECT:"addToCartDirect",ADD_TO_CART_SUCCESS:"addToCartSuccess",ADD_ALL_TO_CART:"addAllToCart",ADD_MY_RECIPE:"addToMyRecipe",REMOVE_MY_RECIPE:"removeFromMyRecipe",CHECKOUT_STEP_ONE:"checkout_step1",CHECKOUT_STEP_TWO:"checkout_step2",CHECKOUT_STEP_THREE:"checkout_step3",CART_VIEW_UNIQUE_COUNT:"cartViewUniqueCount",SUCCESS_SEARCH:"successfulSearch",FAIL_SEARCH:"unSuccessfulSearch",FILTER_STORE:"filterStore",
GIFT_CARD_BALANCE_CHECK:"giftCardBalanceCheck",BUTTON_LINK:"buttonAndLink",LOGIN_START:"loginStart",LOGIN_FAILED:"loginError",PIN_VOUCHER_SUCCESS:"pinVoucherSuccess",PIN_VOUCHER_ERROR:"pinVoucherError",REGISTRATION_SUBMIT:"registrationSubmit",LIMITED_STOCK_NOTIFICATION_TRACKING:"limitedStockNotificationTracking",MULTIPLE_ADD_TO_CART:"multipleAddToCart",SIGNUP_NEWSLETTER:"subscriptionOpt",SHOW_ALL_PRODUCT:"showAllProduct",SHOW_ALL_RECIPE:"showAllRecipes",SHOW_ALL_CONTENT:"showAllContent",SEARCH_POSITION:"searchPositionSelection",
SEARCH_SORTING:"searchSortingUsage",SEARCH_FILTER:"searchFilterUsage",OUT_OF_STOCK_TRACKING:"outOfStockTracking",PAYMENT_REJECTION:"paymentRejection",PRODUCT_MINIMUM_QUANTITY_NOTIFICATION:"minimumQuantityNotification",PROFILE_PREF:"preferenceSaveSettings",PROFILE_SETTINGS:"profileSaveSettings",PREFERRED_STORE:"preferredStore",PURCHASE_CONFIRMATION:"purchaseConfirmation",REMOVE_PREFERRED_STORE:"removePreferredStore",REMOVE_FROM_CART_SUCCESS:"removeFromCart",SEARCH_STORE_CLICKED:"searchStoreClicked",
DELIVERY_ADDRESS:"addressFunctionalityUsage",CREDIT_CARD_USAGE:"creditCardFunctionalityUsage",TOTAL_PRICE_CART:"totalPriceCart",TOTAL_QTY_CART:"totalQtyCart",VOUCHER_ERROR:"voucherError",VOUCHER_SUCCESS:"voucherSuccess",VOUCHER_APPLIED:"voucherApplied",WALLET_RECEIPT_ADDED:"walletReceiptAdded",WALLET_RECEIPT_REMOVED:"walletReceiptRemoved",WEBFORM_START:"webFormStart",WEBFORM_STEP_ONE:"webFormStepOne",WEBFORM_STEP_TWO:"webFormStepTwo",WEBFORM_STEP_THREE:"webFormStepThree",WEBFORM_SUBMIT:"webFormSubmit",
WISHLIST_ADD:"wishListAdd",WISHLIST_REMOVE:"wishListRemove",EXIT_SURVEY_START:"exitSurveyStart",GIFT_CARD_SUCCESS:"giftCardSuccess",GIFT_CARD_ERROR:"giftCardError",LIST_PRODUCT_ADDED:"listProductAdded",SIGNUP_NEWSLETTER_SO:"subscriptionSingleOpt",SIGNUP_NEWSLETTER_RQ:"subscriptionRequest",DELETE_ACCOUNT:"deleteAccount",SOCIAL_REGISTRATION:"socialRegistration",ASSET_CLICK_SUCCESS:"assetClickSuccess"},events:{LAUNCH_LOADED:"launchLoaded",ADD_TO_CART_EVENT:"addToCart",ADD_ONE_ITEM_PRODUCT:"addOneItemProduct",
ADD_CUSTOM_QTY_TO_CART:"addCustomQty",ADD_ALL_TO_CART_EVENT:"addAllToCartEvent",ADD_TO_CART_TYPE:"addToCartType",CONTENT_SUBSCRIPTION:"Content Subscription",CART_VIEW:"cartView",CUSTOMER_SERVICE:"customerService",CUSTOMER_ID:"customerId",CHECKOUT_STEP:"checkoutStep",CHECKOUT_DETAILS:"checkoutDetails",GIFTCARD:"giftCard",LOGIN_START:"loginStart",LOGIN_SUCCESS:"loginSuccess",LOG_OUT:"logOut",LOGIN_FAIL:"loginError",MOBILE_WALLET_EVENTS:"mobileWalletEvents",REGISTRATION_START:"registrationStart",REGISTRATION_SUBMIT:"registrationSubmit",
INTERNAL_SEARCH:"search",REGISTRATION_COMPLETE:"registrationComplete",FORGOT_PASSWORD:"forgotPassword",TERM_AND_CONDITION:"termsAndCondition",PRIVACY_DECLARATION:"privacyDeclaration",FOOTER_ADVANTAGES:"footerAdvantages",BUTTON_TAB:"buttonTab",SHOW_ALL:"showAll",ITEM_PRODUCT:"itemClicked",ITEM_RECIPE:"recipeClicked",ITEM_CONTENT:"contentClicked",LOW_STOCK_NOTIFICATION:"lowStockNotification",SORTING:"sorting",FILTER_SEARCH:"filterProduct",SUCCESS_SEARCH:"successfulSearch",FAIL_SEARCH:"unSuccessfulSearch",
PURCHASE:"purchase",OUT_OF_STOCK:"outOfStock",PAYMENT_FAILED:"paymentFailed",PDP_EVENTS:"pdpEvents",PIN_VOUCHER:"pinVoucher",PLP_CATEGORY:"plpCategory",PROFILE_PREFERENCE:"profilePreference",PRODUCT_MINIMUM_QUANTITY:"minimumQuantity",RECIPE:"recipe",REMOVE_FROM_CART_EVENT:"removeFromCartEvent",REMOVE_ONE_ITEM_PRODUCT:"removeOneItemProduct",RDP_EVENTS:"rdpEvents",NEWSLETTER_SIGNUP:"newsletter",TARGET_PRODUCT:"targetProductPage",TARGET_RECIPE:"targetRecipePage",VIDEO:"videoId",VIDEO_COMPONENT:"videoComponent",
VIDEO_HERO_SLIDER:"videoHeroSlider",VOUCHER:"voucher",WEB_FORM:"webForm",WISH_LIST:"wishList",EXIT_SURVEY_START:"exitSurveyStart",GIFT_CARD_EVENT:"giftCardEvent",DELETE_ACCOUNT_EVENT:"deleteAccount",SOCIAL_REGISTRATION_EVENT:"socialRegistrationEvent",PRODUCT_VARIANT_VIEW:"productVariantView",ASSET_CLICK:"assetClick"},logs:{LOAD_LIST_PRODUCTS:"loadListProducts",PURCHASE_PRODUCT:"purchaseProduct"},constants:{LABEL_UNDEFINED:"undefined",LABEL_PAGETYPE_EDITORIAL:"Editoriale",LABEL_PAGETYPE_CATEGORY:"CategoryPage",
LABEL_DTM_CONTEXT:"DtmSessionContext"}})})(jQuery);
(function(e){void 0===e.aldiDtmUtils&&(e.aldiDtmUtils={catchCase:function(e,b){console.error("dtm controller -",e,":",b)},track:function(e){"undefined"!=typeof _satellite&&_satellite.track(e)},publishEvent:function(m,b){e.fiab.utils.publishEvent(e.aldiDtmConstants.TOPIC,m,b)},setVideoProperty:function(m,b,g,q,f,d){m.each(function(){var a=e(b);if(a.length){var d=a.data("video-id");a=a.data("video-name");g+=d;q+=a}g+=f;q+=f});d.videoTagID=g.slice(0,-1);d.videoName=q.slice(0,-1)}})})(jQuery);
(function(e){void 0===e.aldiDtmController&&(e.aldiDtmController={digitalData:{setDigitalData:function(m,b){var g=m.type,q=e.aldiDtmConstants,f=q.events,d=q.tracks,a=e.aldiDtmUtils,t=digitalData.user,u=digitalData.profile.profileInfo,k=digitalData.internalSearch.searchInfo,r=digitalData.click.buttonLink,w=digitalData.content,W=digitalData.customerService,n=digitalData.checkout,X=digitalData.form,F=digitalData.profile.profileInfo,h=digitalData.product,Y=digitalData.shoppingCartReorder,p=digitalData.transaction,
B=digitalData.video,l=digitalData.target.targetInfo;switch(g){case f.EXIT_SURVEY_START:try{a.track(d.EXIT_SURVEY_START)}catch(c){a.catchCase(g,c)}break;case f.CUSTOMER_SERVICE:try{W.customerServiceType=e("#collapseLiveChat").data("parent")}catch(c){a.catchCase(g,c)}break;case f.CHECKOUT_STEP:try{switch(b.checkoutStep){case "checkoutStepOne":digitalData.event={eventInfo:[{eventName:e.aldiDtmConstants.tracks.CHECKOUT_STEP_ONE}]};break;case "checkoutStepTwo":var G="";e(".delivery-address .custom-control-input").each(function(){e(this).is(":checked")&&
(G=e(this).data("delivery"))});n.deliveryMethod=G;var H="";e(".form-check.mt-3").find(".custom-control-input").each(function(){e(this).is(":checked")&&(H=e(this).data("delivery-option"))});n.deliveryOption=H;a.track(d.CHECKOUT_STEP_TWO);break;case "checkoutStepThree":var I="";e("#section-one-credit-card").find(".custom-control-input").each(function(){e(this).is(":checked")&&(I=e(this).val())});n.paymentMethod=I;a.track(d.CHECKOUT_STEP_THREE)}}catch(c){a.catchCase(g,c)}break;case f.CUSTOMER_ID:try{t.userInfo.customerID=
b.customerId,""!=digitalData.user.userInfo.loginStatus&&a.track(d.LOGIN_START)}catch(c){a.catchCase(g,c)}break;case f.CHECKOUT_DETAILS:try{switch(b.checkoutDetailsAction){case "deliveryAddress":n.details=b.addressDetails;a.track(d.DELIVERY_ADDRESS);break;case "creditCard":var J=fiabSessionStores.getItem("DtmSession").newCreditCard,Z=fiabSessionStores.getItem("DtmSession").savedCreditCard;n.details="undefined"!=typeof J?J:Z;a.track(d.CREDIT_CARD_USAGE)}}catch(c){a.catchCase(g,c)}break;case f.GIFTCARD:try{a.track(d.GIFT_CARD_BALANCE_CHECK)}catch(c){a.catchCase(g,
c)}break;case f.LOGIN_START:try{a.track(d.LOGIN_START)}catch(c){a.catchCase(g,c)}break;case f.LOGIN_FAIL:try{a.track(d.LOGIN_FAILED)}catch(c){a.catchCase(g,c)}break;case f.LOGIN_SUCCESS:try{switch(b.loginEvent){case "standard":t.userInfo.loginStatus="LoggedIn";t.userInfo.loginType="Email";break;case "socialLogin":t.userInfo.loginStatus="LoggedIn",t.userInfo.loginType=b.socialNameType}}catch(c){a.catchCase(g,c)}break;case f.LOG_OUT:try{a.track(f.LOG_OUT)}catch(c){a.catchCase(g,c)}break;case f.PIN_VOUCHER:try{switch(b.success){case "true":n.pinVoucherValue=
b.pinAmount;a.track(d.PIN_VOUCHER_SUCCESS);break;case "false":a.track(d.PIN_VOUCHER_ERROR)}}catch(c){a.catchCase(g,c)}break;case f.REGISTRATION_START:try{a.track(f.REGISTRATION_START)}catch(c){a.catchCase(g,c)}break;case f.REGISTRATION_SUBMIT:try{a.track(d.REGISTRATION_SUBMIT)}catch(c){a.catchCase(g,c)}break;case f.REGISTRATION_COMPLETE:try{a.track(f.REGISTRATION_COMPLETE)}catch(c){a.catchCase(g,c)}break;case f.TERM_AND_CONDITION:try{a.track(f.TERM_AND_CONDITION)}catch(c){a.catchCase(g,c)}break;case f.VOUCHER:try{switch(b.success){case "true":a.track(d.VOUCHER_SUCCESS);
break;case "false":a.track(d.VOUCHER_ERROR);break;case "applied":n.giftCardValue=b.giftValue,a.track(d.VOUCHER_APPLIED)}}catch(c){a.catchCase(g,c)}break;case f.PRIVACY_DECLARATION:try{a.track(f.PRIVACY_DECLARATION)}catch(c){a.catchCase(g,c)}break;case f.FORGOT_PASSWORD:try{a.track(f.FORGOT_PASSWORD)}catch(c){a.catchCase(g,c)}break;case f.INTERNAL_SEARCH:try{switch(b.customSearchEvent){case "success":var K=e("#srp_PRODUCT").data("totalnumber"),L=e("#srp_RECIPE").data("totalnumber"),M=e("#srp_CONTENT").data("totalnumber");
k.searchTerm=e("#input_search").val();k.searchResultProducts="undefined"!=typeof K?K:"";k.searchResultRecipes="undefined"!=typeof L?L:"";k.searchResultContents="undefined"!=typeof M?M:"";break;case "fail":k.searchTerm=e("#input_search").val();k.searchResultProducts="no results";k.searchResultRecipes="no results";k.searchResultContents="no results";break;case "successStoreSearch":k.searchStoreResult=b.dataStoreNumber;k.searchTerm=e("#input__store_search").val();break;case "failStoreSearch":k.searchTerm=
"";break;case "storeStockSearch":k.searchStoreResult=b.dataStoreNumber;k.searchTerm=e("#storeAddressSearch").val();break;case "clickedStore":k.storeSelectedPosition=b.storeSelected;k.storeNameSelected=b.storeNameSel;a.track(d.SEARCH_STORE_CLICKED);break;case "addPreferredStore":a.track(d.PREFERRED_STORE);break;case "removePreferredStore":a.track(d.REMOVE_PREFERRED_STORE);break;case "filterStore":k.searchStoreFilter=b.filterChecked;a.track(d.FILTER_STORE);break;case "listProductAdded":k.searchTerm=
b.searchTerm,k.searchPosition=b.searchPosition,a.track(d.LIST_PRODUCT_ADDED)}}catch(c){a.catchCase(g,c)}break;case f.FOOTER_ADVANTAGES:try{switch(b.footerEvents){case "track":r.buttonName="Delivery";a.track(d.BUTTON_LINK);break;case "reply":r.buttonName="Returns";a.track(d.BUTTON_LINK);break;case "gift":r.buttonName="Gift",a.track(d.BUTTON_LINK)}}catch(c){a.catchCase(g,c)}break;case f.ASSET_CLICK:try{r.assetId=b.assetId,r.assetComponentType=b.assetComponentType,r.assetFileReference=b.assetFileReference,
r.assetTarget=b.assetTarget,a.track(d.ASSET_CLICK_SUCCESS)}catch(c){a.catchCase(g,c)}break;case f.BUTTON_TAB:try{r.buttonName=b.buttonName,a.track(d.BUTTON_LINK)}catch(c){a.catchCase(g,c)}break;case f.ITEM_PRODUCT:try{var N=b.productCode,aa=b.searchPosition;k.productID=N;h.productID=N;k.searchPosition=aa;a.track(d.SEARCH_POSITION)}catch(c){a.catchCase(g,c)}break;case f.ITEM_RECIPE:try{var ba=b.searchPosition;k.productID=b.recipeCode;k.searchPosition=ba;a.track(d.SEARCH_POSITION)}catch(c){a.catchCase(g,
c)}break;case f.ITEM_CONTENT:try{k.searchPosition=b.searchPosition,k.productID="",a.track(d.SEARCH_POSITION)}catch(c){a.catchCase(g,c)}break;case f.SORTING:try{k.searchSorting=b.sortFilter,a.track(d.SEARCH_SORTING)}catch(c){a.catchCase(g,c)}break;case f.LOW_STOCK_NOTIFICATION:try{var x=b.limitedStockProduct,O;for(O in x)h.productID=x[O].ancestorProduct;for(var ca in x)h.sku=x[ca].sku;a.track(d.LIMITED_STOCK_NOTIFICATION_TRACKING)}catch(c){a.catchCase(g,c)}break;case f.VIDEO:try{var da=e("video.video-in-carousel");
a.setVideoProperty(da,this,"","",",",B)}catch(c){a.catchCase(g,c)}break;case f.VIDEO_COMPONENT:try{var ea=e("video.video-autoheight");a.setVideoProperty(ea,this,"","",",",B)}catch(c){a.catchCase(g,c)}break;case f.VIDEO_HERO_SLIDER:try{var fa=e("video.hero-slider-video");a.setVideoProperty(fa,this,"","",",",B)}catch(c){a.catchCase(g,c)}break;case f.FILTER_SEARCH:try{k.searchFilter=b.searchFilter,a.track(d.SEARCH_FILTER)}catch(c){a.catchCase(g,c)}break;case f.OUT_OF_STOCK:try{var y=b.productOutStock,
P;for(P in y)h.productID=y[P].ancestorProduct;for(var ha in y)h.sku=y[ha].sku;a.track(d.OUT_OF_STOCK_TRACKING)}catch(c){a.catchCase(g,c)}break;case f.PAYMENT_FAILED:try{a.track(d.PAYMENT_REJECTION)}catch(c){a.catchCase(g,c)}break;case f.PRODUCT_MINIMUM_QUANTITY:try{a.track(d.PRODUCT_MINIMUM_QUANTITY_NOTIFICATION)}catch(c){a.catchCase(g,c)}break;case f.PROFILE_SETTINGS:try{var ia=e("#save_my_settings");u.profileFeatureName=b.settingField;ia.click(function(){a.track(d.PROFILE_SETTINGS)})}catch(c){a.catchCase(g,
c)}break;case f.PROFILE_PREFERENCE:try{switch(b.profilePreferences){case "addedPreferences":var z="";e(".preferences").each(function(){z+=e(this).data("label")+":";e(this).find("input[class*\x3d'pref_selection']").each(function(){e(this).is(":checked")&&(z+=e(this).data("description")+",")});z+="|"});var Q="";e(".foods_pref_selection").each(function(){e(this).is(":checked")&&(Q+=e(this).data("description")+",")});var R="";e(".other_pref_selection").each(function(){e(this).is(":checked")&&(R+=e(this).data("description")+
",")});u.preferenceFeatureName=z;u.foodPreference=Q;u.otherPreference=R;a.track(d.PROFILE_PREF);break;case "emptyPreferences":u.preferenceFeatureName="",u.foodPreference="",u.otherPreference=""}}catch(c){a.catchCase(g,c)}break;case f.PURCHASE:try{switch(b.listCartProduct){case "checkoutListProduct":p.listProduct="";e.aldiDtmController.digitalData.purchaseProduct();break;case "orderConfirmation":var ja=e(".dtm-order-id").data("orderid");p.listProduct=b.productList;p.totalPriceCart=b.totalPrice;n.orderId=
ja;n.giftCardValue=b.giftCardTotalAmount;n.pinVoucherValue=b.pinVoucherTotalAmount;a.track(d.PURCHASE_CONFIRMATION)}}catch(c){a.catchCase(g,c)}break;case f.ADD_TO_CART_EVENT:try{h.sku=b.productSku,h.qty=b.prodQty,h.qtyItem="undefined"!=typeof b.minQuantity?b.minQuantity:1,h.price=b.productPrice,e.aldiDtmController.digitalData.purchaseProduct(),a.track(d.ADD_TO_CART_SUCCESS)}catch(c){a.catchCase(g,c)}break;case f.ADD_ONE_ITEM_PRODUCT:try{h.sku=b.data("sku")||b.data("ancestor-product");var ka=b.data("curr-qty");
h.qty=++ka;h.qtyItem=1;h.price=b.data("unit-price")||b.data("product-price");p.totalPriceCart=fiabCartContext.shoppingBag.totalamount+h.price;a.track(d.ADD_TO_CART_SUCCESS)}catch(c){a.catchCase(g,c)}break;case f.ADD_CUSTOM_QTY_TO_CART:try{var v=b.closest("article"),A=b.val()||b.find(".custom-quantity").val(),C=v.data("curr-qty"),la=v.data("sku")||v.data("ancestor-product"),D=v.data("unit-price")||v.data("product-price");h.sku=la;h.qty=A;h.price=D;A>C?(h.qtyItem=A-C,p.totalPriceCart=fiabCartContext.shoppingBag.totalamount+
D*h.qtyItem,a.track(d.ADD_TO_CART_SUCCESS)):(h.qtyItem=C-A,fiabSessionStores.createStore("RemoveContext"),fiabSessionStores.setItem("RemoveContext","removeProduct",{state:!0}),p.totalPriceCart=fiabCartContext.shoppingBag.totalamount-D*h.qtyItem,a.track(d.REMOVE_FROM_CART_SUCCESS))}catch(c){a.catchCase(g,c)}break;case f.ADD_ALL_TO_CART_EVENT:try{var S=[];e.each(b.orderProducts,function(a,b){S.push({sku:b.sku,productId:b.ancestorProduct,qty:b.qty,unitProductPrice:b.unitPriceAmount})});Y.addAllToCart=
S;a.track(d.ADD_ALL_TO_CART)}catch(c){a.catchCase(g,c)}break;case f.ADD_TO_CART_TYPE:try{p.addToCartType=b.multiAddLabel,a.track(d.MULTIPLE_ADD_TO_CART)}catch(c){a.catchCase(g,c)}break;case f.MOBILE_WALLET_EVENTS:try{switch(b.walletEvents){case "addReceiptEv":F.mobileWalletReceipt="Add Receipt";a.track(d.WALLET_RECEIPT_ADDED);break;case "removedReceipt":F.mobileWalletReceipt="Remove Receipt",a.track(d.WALLET_RECEIPT_REMOVED)}}catch(c){a.catchCase(g,c)}break;case f.REMOVE_FROM_CART_EVENT:try{n.pinVoucherValue=
b.price?n.pinVoucherValue:0,h.sku=b.skuCode,h.price=b.price,h.qty=0,h.qtyItem=b.qty,p.totalPriceCart=0,a.track(d.REMOVE_FROM_CART_SUCCESS)}catch(c){a.catchCase(g,c)}break;case f.REMOVE_ONE_ITEM_PRODUCT:try{h.sku=b.data("sku")||b.data("ancestor-product");var ma=b.data("curr-qty"),T=b.data("product-price")||b.data("unit-price");h.qty=--ma;h.qtyItem=1;h.price=T;p.totalPriceCart=fiabCartContext.shoppingBag.totalamount-T;a.track(d.REMOVE_FROM_CART_SUCCESS)}catch(c){a.catchCase(g,c)}break;case f.SHOW_ALL:try{switch(b.action){case "product":a.track(d.SHOW_ALL_PRODUCT);
break;case "recipe":a.track(d.SHOW_ALL_RECIPE);break;case "content":a.track(d.SHOW_ALL_CONTENT)}}catch(c){a.catchCase(g,c)}break;case f.PDP_EVENTS:try{var U=b.productName,V=b.price;l.marketingName="undefined"!=typeof U?U:"";l.customerRatings="undefined"!=typeof b.customerRatings?b.customerRatings/2:"";l.price="undefined"!=typeof V?V:"";l.currency="undefined"!=typeof b.currency?b.currency:"";l.code="undefined"!=typeof b.code?b.code:"";l.thumbnailURL="undefined"!=typeof b.thumbnailURL?b.thumbnailURL:
"";l.descriptionShort="undefined"!=typeof b.shortDescription?b.shortDescription:"";l.descriptionLong="undefined"!=typeof b.longDescription?b.longDescription:"";l.in_stock_general="undefined"!=typeof b.stock?b.stock:"";l.pdp_options_onlyonline="undefined"!=typeof b.online?b.online:"";l.wasPrice="undefined"!=typeof b.wasPrice?b.wasPrice:"";h.reviews="undefined"!=typeof b.reviews?b.reviews:"";h.productID=l.code;l.reviewsNumber="undefined"!=typeof h.reviews?h.reviews:"";l.depositFee="undefined"!=typeof b.depositFee?
b.depositFee:"";l.approvalStatus="undefined"!=typeof b.approvalStatus?b.approvalStatus:"";var na=e(".allergens").next().find("td").map(function(){return e(this).text()}),oa=e(".badges_items.topLeft").first().children("img").map(function(){return e(this).attr("data-src")}),pa=e(".badges_items.bottomLeft").first().children("img").map(function(){return e(this).attr("data-src")}),qa=e(".badges_items.bottomRight").first().children("img").map(function(){return e(this).attr("data-src")}),ra=e(".badges_items.topRight").first().children("img").map(function(){return e(this).attr("data-src")}),
sa=e(".ingredients").next().find("td").map(function(){return e(this).text()});l.allergy=Array.prototype.join.call(na,", ");l.badges_items_list_topLeft=Array.prototype.join.call(oa,", ");l.badges_items_list_bottomLeft=Array.prototype.join.call(pa,", ");l.badges_items_list_bottomRight=Array.prototype.join.call(qa,", ");l.badges_items_list_topRight=Array.prototype.join.call(ra,", ");l.ingredients=Array.prototype.join.call(sa,", ")}catch(c){a.catchCase(g,c)}break;case f.PLP_CATEGORY:try{l.targetCommodityGroupName=
"undefined"!=typeof b.targetCategories?b.targetCategories:""}catch(c){a.catchCase(g,c)}break;case f.RECIPE:try{switch(b.recipeSelection){case "addRecipe":h.productID=b.productCode;h.sku=b.sku;a.track(d.ADD_MY_RECIPE);break;case "removeRecipe":h.productID=b.productCode,h.sku=b.sku,a.track(d.REMOVE_MY_RECIPE)}}catch(c){a.catchCase(g,c)}break;case f.RDP_EVENTS:try{l.preparationTime="undefined"!=typeof b.preparationTime?b.preparationTime:"",l.cookingTime="undefined"!=typeof b.cookingTime?b.cookingTime:
"",l.totalTime="undefined"!=typeof b.totalTime?b.totalTime:"",l.recipesLevel="undefined"!=typeof b.recipesLevel?b.recipesLevel:""}catch(c){a.catchCase(g,c)}break;case f.DELETE_ACCOUNT_EVENT:try{a.track(d.DELETE_ACCOUNT)}catch(c){a.catchCase(g,c)}break;case f.NEWSLETTER_SIGNUP:try{switch(b.signUp){case "product":w.subscriptionStatus="subscription: "+b.footer;a.track(d.SIGNUP_NEWSLETTER);break;case "footerSingleOpt":a.track(d.SIGNUP_NEWSLETTER_SO);break;case "footerRequest":a.track(d.SIGNUP_NEWSLETTER_RQ);
break;case "settings":var ta=e("#save_my_settings"),ua;for(ua in fiabCustomerContext.profile.communicationPreference);ta.click(function(){e('input[name\x3d"customer_preferences_PRODUCT_NEWSLETTER"]').is(":checked")?w.subscriptionStatus="subscription: newsletter mySettings":w.subscriptionStatus="unsubscription: mySettings";a.track(d.SIGNUP_NEWSLETTER)});break;case "checkout":a.track(d.SIGNUP_NEWSLETTER)}}catch(c){a.catchCase(g,c)}break;case f.WEB_FORM:try{switch(b.webform){case "stepOne":if(e(".form-customer-service").length){var E=
new Date;E.setTime(E.getTime()+36E5);e.fiab.utils.addCookie("web_form","1",E);X.formName="webForm"}a.track(d.WEBFORM_START);a.track(d.WEBFORM_STEP_ONE);break;case "stepTwo":a.track(d.WEBFORM_STEP_TWO);break;case "stepThree":a.track(d.WEBFORM_STEP_THREE);break;case "submitWebform":a.track(d.WEBFORM_SUBMIT)}}catch(c){a.catchCase(g,c)}break;case f.WISH_LIST:try{switch(b.wishlist){case "addWishList":h.productID=b.productCode;h.sku=b.sku;a.track(d.WISHLIST_ADD);break;case "removeWishlist":h.productID=
b.productCode,h.sku=b.sku,a.track(d.WISHLIST_REMOVE)}}catch(c){a.catchCase(g,c)}break;case f.GIFT_CARD_EVENT:try{switch(b.success){case "true":a.track(d.GIFT_CARD_SUCCESS);break;case "false":a.track(d.GIFT_CARD_ERROR)}}catch(c){a.catchCase(g,c)}break;case f.SOCIAL_REGISTRATION_EVENT:try{switch(b.socialEvent){case "newsLetterSignup":w.subscriptionStatus="Account : Complete";break;case "success":a.track(d.SOCIAL_REGISTRATION)}}catch(c){a.catchCase(g,c)}break;case f.PRODUCT_VARIANT_VIEW:try{h.sku=b.productCode,
a.track(d.PDP_VIEW)}catch(c){a.catchCase(g,c)}}},purchaseProduct:function(){var m=digitalData.transaction,b=digitalData.checkout,g=e.aldiDtmUtils,q=e.aldiDtmConstants.logs;try{if(fiabSessionStores.getItem("CartContext")){var f=fiabSessionStores.getItem("CartContext").shoppingBag,d=[],a=f.cartEntries;m.listProduct="";0<a.length?(b.cartId=f.cartId,fiabSessionStores.createStore("DtmSession"),e.each(a,function(a,b){d.push({sku:b.sku,productId:b.ancestorProduct,qty:b.qty,productPriceAmount:b.listPriceAmount,
unitProductPrice:b.unitPriceAmount,pinCode:b.pinCode,cartId:f.cartId,totalPrice:f.totalamount,totalUnit:f.totalUnitCount});f&&fiabSessionStores.setItem("DtmSession","listProduct",d)}),m.listProduct=fiabSessionStores.getItem("DtmSession").listProduct,m.totalPriceCart="undefined"!=typeof d[0].totalPrice?d[0].totalPrice:""):(fiabSessionStores.clearStore("DtmSession"),m.totalPriceCart="")}}catch(t){g.catchCase(q.PURCHASE_PRODUCT,t)}}},initAldiPageInformation:function(){if(digitalData){var m=e(".page-information");
digitalData.page.pageInfo.pageName=m.data("pagename");digitalData.page.pageInfo.pageType=m.data("pagetype");digitalData.page.pageInfo.country=m.data("country");digitalData.website.websiteInfo.language=m.data("language");digitalData.website.websiteInfo.siteTitle=m.data("sitetitle");digitalData.page.pageInfo.primaryCategory=m.data("primarycategory");digitalData.page.pageInfo.subCategory=m.data("subcategory");digitalData.page.pageInfo.subSubCategory=m.data("subsubcategory");digitalData.target.targetInfo.targetCommodityGroupName=
"undefined"!=typeof m.data("targetcategory")?m.data("targetcategory"):"";digitalData.target.targetInfo.categoryId="undefined"!=typeof m.data("targetcategory-id")?m.data("targetcategory-id"):""}}})})(jQuery);